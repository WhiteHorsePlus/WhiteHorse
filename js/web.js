!function(){"use strict";var u=!0,t="_MeiTuanALogObject",f=1,w="_lxsdk_",a="dianping_nova",x="waimai",S="group",c="demo",g="4.8.3",k="lxcuid",q="uuid",O="msid",A="cityid",I="utm",j="uid",D="userid",E="dpid",C="appnm",s="union_id",N="web_env",d="wxid",l="pd_data",F=/^(([^? \r\n]*)\?)?([^?# \r\n]+)(#\S+)?$/,T=setTimeout,v=clearTimeout,p=1,o=2,h=3,m=4,r=5,i=6,e=20,_=7;function L(n){var t=n;return n&&n.code&&(t=n.code),t===p?"E_TIME_OUT":t===o?"E_NO_JSBRIDGE":t===h?"E_KNB_FAIL":t===m?"E_KNB_CB_FAIL":t===r?"E_KNB_NOT_EXIST":t===e?"ERR_PARAMS":t===i?"E_KNB_METHOD_NOT_SUPPORT":"unknown error: "+t}var y=200,b=100,V=500,M=600,R=-1,B="PV",P="PD",U="MC",J="SC",Q="MV",K="MVL",$="ME",W="BO",X="BP",z="event_type",H="val_act",Z="val_cid",G="index",Y="element_id",nn="pageView",tn="systemCheck",en="moduleClick",rn="order",an="order_id",on=1e3,un=2,cn=0,sn=-1,fn=0,dn=1,ln=10080,vn=1576800,pn=30,hn="_lx_utm",gn="_lxsdk",mn="_lxsdk_cuid",_n="_lxsdk_dpid",yn="_lxsdk_s",bn="latlng",wn="msid",xn="ms",Sn="category",kn="c",qn="login_type",On="lt",An="locate_city_id",In="lci",jn="sdk_ver",Dn="sv",En="lxcuid",Cn="lxid",Nn="val_lab",Fn="val_bid",Tn="val_val",Ln="sf",Vn="__$lx_beacon_",Mn={category:u,union_id:u,lxcuid:u,app:u,sdk_ver:u,appnm:u,ch:u,lch:u,ct:u,did:u,dm:u,ua:u,msid:u,uuid:u,lat:u,log:u,net:u,os:u,idfa:u,pushid:u,subcid:u,mac:u,imsi:u,uid:u,logintype:u,cityid:u,apn:u,mno:u,pushSetting:u,wifi:u,bht:u,ip:u,vendorid:u,geohash:u,dtk:u,sns:u,android_id:u,version_code:u,brand:u,utm:u},Rn="post",Bn="validation",Pn="__lx"+Bn,Un=".sankuai.com",Jn="report.meituan.com",Qn="wreport.meituan.net",Kn=function(){};function n(){return window}function $n(){return n().XMLHttpRequest}var Wn,Xn,zn=(Wn=$n(),Xn=Wn&&"withCredentials"in new Wn,function(){return Xn}),Hn=/__lxvalidation=([\w.]+)/i,Zn=10,Gn=!1,Yn=void 0,nt=void 0,tt={};function et(n){var t,e="v2/api/"+Bn+"/validate",r="validate-ocean"+Un,i=0===At.protocol.indexOf("http:")?"http:":"https:",a=i+"//"+n+"/",o=At.search.match(Hn)||[],u=function(){var n=ne.get(Pn);if(n){var t=n.split("|");return{mis:t[0],env:t[1]||""}}return n||{}}();(t=o&&o[1]||u.mis||"")&&(ne.set(Pn,t+"|",Zn),a=i+"//"+r+"/"+e+"?mis="+t);return a}var rt={pageValLab:null,pageEnv:null,use_post:!1,cid:null,appnm:null,quit:null,useQuickReport:!1,onWebviewAppearAutoPV:!0,nativeSDKVer:null},it=[];rt.on=function(n,t){it.push({name:n,fn:t})};var at={MVL:!(rt.emit=function(r,i,a,o,u){Ht.each(it,function(n){var t=n.name,e=n.fn;t===r&&e(i,a,o,u)})}),QC:!1,getReqId:!1};function ot(n){return!!at[n]}function ut(n,t){$t.isStr(n)&&(tt[n]=t)}function ct(n){Gn=n}function st(){return Gn===f}var ft=void 0;var dt=cn;function lt(){return dt}function vt(n){(function(){if(Ct!==ft)return ft;var n=It.getElementsByTagName("meta");return ft="off"===ee(n,"lx:native-report")})()||(dt=n)}var pt=!1;function ht(n){pt=!!n}var gt=5e3,mt=50,_t={MVL:{}},yt=void 0,bt=void 0;function wt(n,t,e,r){r=r||{};var i=t.category,a=e.req_id,o=e.val_cid,u=e.val_bid,c=r.tag;if(_t[n]&&$t.isStr(n)&&$t.isStr(i)&&$t.isStr(a)&&$t.isStr(o)&&$t.isStr(u)){var s=i+"_"+a+"_"+o+"_"+u,f=_t[n];$t.isObj(f[s])||(f[s]={env:$t.extend(!0,{},t),evs:e,lab:[]}),$t.isObj(c)&&(f[s].evs.tag=c);var d=$t.extend(!0,e.val_lab,{_seq:e.seq,_tm:e.tm});f[s].lab.push(d),function(){var n=0;for(var t in _t){var e=_t[t];for(var r in e){var i=e[r].lab;n+=i.length||0}}mt<n&&kt()}()}}function xt(n,t){var e=(t||{}).withUnload,r=_t[n];if($t.isObj(r)){var i=[];for(var a in r){var o=r[a],u=!1;if(o.lab&&o.lab.length){var c=o.env,s=o.evs,f={mv_list:o.lab,custom:{_withUnload:!!e}};s.val_lab=f;for(var d=0,l=i.length;d<l;d++){var v=i[d];if(!St(v,c)){v.evs.push(s),u=!0;break}}u||(c.evs=[s],i.push(c))}}i.length&&bt.send(i),_t[n]={}}}function St(n,t){var e=0,r=0;for(var i in n)n.hasOwnProperty(i)&&e++;for(var a in t)t.hasOwnProperty(a)&&r++;var o=r<e?n:t,u=e<=r?n:t;for(var c in o){if(!(-1<"evs|".indexOf(c+"|")))if($t.isObj(o[c])&&$t.isObj(u[c])){if(St(o[c],u[c]))return!0}else if(o[c]!==u[c])return!0}return!1}function kt(n){var t=(n||{}).withUnload;for(var e in _t)xt(e,{withUnload:t})}T(function n(){clearTimeout(yt);try{kt()}catch(n){}finally{lt()===cn?yt=T(n,gt):clearTimeout(yt)}},100);var qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ot=n(),At=location,It=document,jt=It.domain,Dt=navigator,Et=Dt.userAgent.toString(),Ct=void 0,Nt=Array.prototype,Ft=Object.prototype,Tt=decodeURIComponent,Lt=encodeURIComponent,Vt=Jt(),Mt=Ft.toString,Rt=Ft.hasOwnProperty;function Bt(){}function Pt(n){return void 0===n?"undefined":qt(n)}function Ut(n,t){return Pt(n)===t}function Jt(){return+new Date}function Qt(){return Math.random()}function Kt(n){return Ut(n,"number")}var $t={};function Wt(n,e,r){var i=void 0,a=!0===n;return a||(r=e,e=n),e&&$t.isObj(e)||(e={}),r&&$t.isObj(r)||(r={}),Ht.each(r,function(n,t){a&&$t.isObj(r[t])?(i=e[t],e[t]=$t.isObj(i)?i:{},Wt(a,e[t],r[t])):e[t]=r[t]}),e}$t.trim=function(n){return n.replace(/^[\s\uFEFF\xA0\u3000]+|[\s\uFEFF\xA0\u3000]+$/g,"")},$t.now=Jt,$t.rnd=Qt,$t.hasOwn=function(n,t){return Rt.call(n,t)},$t.extend=Wt;var Xt=function(n){return n&&"[object Object]"===Mt.call(n)};$t.isObj=Xt;var zt=function(n){return Ut(n,"string")};$t.isStr=zt,$t.isFunc=function(n){return Ut(n,"function")},$t.attr=function(n,t){return n.getAttribute(t)},$t.parseQuery=function(n){var i={};if(n){var t=n.replace(F,function(n,t,e,r){return r||""}).split("&");return Ht.each(t,function(n){var t=n.split("="),e=t[0],r=t[1]||"";e&&!Rt.call(i,e)&&(i[e]=Tt(r))}),i}},$t.stringifyQuery=function(n){var r=[];return $t.isObj(n)&&Ht.each(n,function(n,t){var e;$t.isFunc(n)||(Ct!==n&&((e=n)||!Ut(e,"object"))||(n=n||""),r.push(Lt(t)+"="+Lt(n)))}),r.join("&")},$t.genReqId=function(){return""+1e3*Jt()+parseInt(1e3*Qt())},$t.run=function(n,t){Zt(n)?Ht.each(n,t):t(n)},$t.on=function(n,t,e){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,e)},$t.off=function(n,t,e){n.removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent&&n.detachEvent("on"+t,e)};var Ht={isArray:function(n){return"[object Array]"===Mt.call(n)}},Zt=function(n){if(!n)return!1;var t=n.length;return!!Ht.isArray(n)||!!(n&&Kt(t)&&0<=t)&&(!$t.isObj(n)||(!(1<t)||t-1 in n))};Ht.isArrayLike=Zt,Ht.find=function(e,r,i){var a=void 0;return Zt(e)&&Ht.each(e,function(n,t){if(!0===r.call(i,n,t,e))return a=n,!1}),a},Ht.filter=function(e,r,i){var a=[];return Zt(e)&&Ht.each(e,function(n,t){r.call(i,n,t,e)&&a.push(n)}),a},Ht.toArray=function(n,t,e){var r=[];return Zt(n)&&Ht.each(n,function(n){r.push(t?t.call(e,n):n)},e),r};var Gt=function(n,t,e){if(n){var r=void 0,i=void 0,a=void 0;if(Zt(n))for(i=0,a=n.length;i<a&&!1!==t.call(e,n[i],i,n);i++);else for(r in n)if($t.hasOwn(n,r)&&!1===t.call(e,n[r],r,n))break}};Ht.each=Gt;var Yt=function(n,t,e){if(n){for(var r=[],i=0,a=n.length;i<a;i++){var o=t.call(e,n[i],i,n);r.push(o)}return r}};Ht.slice=function(n,t,e){return Nt.slice.call(Ht.toArray(n),t,e)},Ht.reduce=function(n,t){if(Zt(n)&&$t.isFunc(t)){var e=n,r=e.length>>>0,i=0,a=void 0,o=arguments;if(3===o.length)a=o[2];else{for(;i<r&&!(i in e);)i++;if(r<=i)return;a=e[i++]}for(;i<r;)i in e&&(a=t(a,e[i],i,e)),i++;return a}};var ne={};function te(n){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=void 0,r=void 0,i=void 0,a=void 0,o=void 0,u=0,c=0,s="",f=[];if(!n)return n;for(n=function(n){n=(n+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var t="",e=void 0,r=void 0,i=0,a=void 0;for(e=r=0,i=n.length,a=0;a<i;a++){var o=n.charCodeAt(a),u=null;o<128?r++:u=127<o&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),null!==u&&(e<r&&(t+=n.substring(e,r)),t+=u,e=r=a+1)}e<r&&(t+=n.substring(e,n.length));return t}(n);e=(o=n.charCodeAt(u++)<<16|n.charCodeAt(u++)<<8|n.charCodeAt(u++))>>18&63,r=o>>12&63,i=o>>6&63,a=63&o,f[c++]=t.charAt(e)+t.charAt(r)+t.charAt(i)+t.charAt(a),u<n.length;);switch(s=f.join(""),n.length%3){case 1:s=s.slice(0,-2)+"==";break;case 2:s=s.slice(0,-1)+"="}return s}function ee(n,t){var e=void 0,r=Ht.find(n,function(n){return $t.attr(n,"name")===t});return r&&(e=$t.attr(r,"content")),e}function re(){var n=Ot[t];return Ot[n]}ne.del=function(n,t){var e=n+"=;path=/;domain="+t,r=new Date;return r.setFullYear(1970),e+=";expires="+r.toUTCString(),It.cookie=e,!0},ne.get=function(n){var t=It.cookie.match(new RegExp("(?:^|;)\\s*"+n+"=([^;]+)"));return Tt(t?t[1]:"")},ne.set=function(n,t,e,r){r=r||It.domain;var i=void 0,a=void 0,o=void 0,u=n+"="+Lt(t)+";path=/;domain="+r;Ct===e||isNaN(e)||(i=new Date,a=60*parseInt(e,10)*1e3,o=i.getTime()+a,i.setTime(o),u+=";expires="+i.toUTCString());try{return It.cookie=u,!0}catch(n){return!1}},ne.top=function(n,t,e){var r=It.domain,i=r.split("."),a=i.length,o=a-1,u=void 0,c=!1;for(t=""+t;!c&&0<=o&&(r=i.slice(o,a).join("."),ne.set(n,t,e,r),u=ne.get(n),Ct!==u&&(c=u===t),o--,!c););},ne.del=function(n){return ne.top(n,"",-100)};var ie,ae=(ie=void 0,{update:function(n){ie=n},get:function(){return ie}});function oe(n){var t={duration:function(n){var t=void 0,e=ae.get(),r=Jt();if(n&&e)t=e,ae.update(r);else{var i=re(),a=Ot.performance&&Ot.performance.timing;(t=a&&a.requestStart)||(t=i?i.l:Vt),ae.update(r)}return r-t}(!0===n)},e=void 0,r=rt.quit;return $t.isFunc(r)&&(e=r()||{}),t=$t.extend(t,e||{})}function ue(n,t){t[an]}var ce=0;function se(n,t){var e=/^((\d+\.)+\d+).*$/;if("string"!==Pt(n)||"string"!==Pt(t))return NaN;if(!e.test(n)||!e.test(t))return NaN;for(var r=n.replace(e,"$1").split("."),i=t.replace(e,"$1").split("."),a=0,o=Math.max(r.length,i.length);a<o;a++){if(!r[a]||!i[a])(!r[a]&&r||!i[a]&&i).push("0");var u=r[a].toString().length,c=i[a].toString().length;if(u!==c){var s=c<u?i:r;s[a]=Array(Math.abs(u-c)+1).join("0")+s[a].toString()}}var f=parseInt(r.join("")),d=parseInt(i.join(""));return f==d?0:d<f?1:-1}function fe(e,r,i,a,o,u,c){return function(n){if(!e){e=!0;try{if(r&&new Date-i<50)return;if(a)return;if(a=!1,!c()){var t=oe();o("pageDisappear",t,{shouldStore:!0})}kt({withUnload:!0})}catch(n){}u&&u(n)}}}var de=4,le="",ve=function(n){de=n},pe=function(){return le&&3===de},he=function(n){le=n},ge=function(){return le},me=Ot.sessionStorage,_e=Et,ye=[{n:c,r:/lingxi\/demo\/\d+/i,v:_e},{n:a,r:/dp\/com\.dianping\.[\w.]+\/([\d.]+)/i,v:_e},{n:x,r:/\bmeituanwaimai-c\/\d+\./i,v:_e},{n:"moviepro",r:/\bmoviepro/i,v:_e},{n:"movie",r:/\bmaoyan\b/i,v:_e},{n:S,r:/\bmeituan \d+|meituangroup\/\d+\./i,v:_e}],be=/android/i.test(_e),we="",xe=be,Se=!1,ke=!1,qe="www",Oe=!1;if(/\bandroid|mobile\b|\bhtc\b/i.test(_e)){qe="i",xe=!0,Ht.each(ye,function(n){if(n.r.test(n.v))return we=n.n,!1}),/\btitans(no){0,1}x\b/i.test(_e)&&(Se=!0);var Ae=/iphone/i.test(_e),Ie=/ipad/i.test(_e);(Ae||Ie)&&(ke=!0),we&&(Ae?qe="iphone":/android/i.test(_e)?qe="android":Ie&&(qe="ipad"))}else{var je=_e.match(/(msie) (\d+)|Trident\/(d+)/i);je&&(Oe=!0,je&&parseInt(je[2],10))}var De=Ot.screen.width+"*"+Ot.screen.height,Ee=Se||/ knb\/\d+/i.test(Et),Ce=function(){var n=Ot.KNB;return xe&&Ee&&n&&n.isApiSupported},Ne=Et.replace(/^.*TitansX\/([\d.]+)\s.*$/i,"$1"),Fe=xe&&/\sMicroMessenger/.test(_e),Te=I+"_source",Le=I+"_medium",Ve=I+"_term",Me=I+"_campaign",Re=I+"_content",Be=void 0,Pe=!1;function Ue(n){if(!n)return Ct;var e=Ct,r=/^utm_(source|medium|term|content|campaign)$/;return Ht.each(n,function(n,t){r.test(t)&&(!e&&(e={}),e[t]=n)}),e}function Je(n){if(n){Be=n;var t=$t.stringifyQuery(n);return ne.del(hn,jt),ne.top(hn,t,ln,jt),!0}return!1}function Qe(n,t){var a,e,r,i,o;return(!Be&&!Pe||n)&&(n=n||At.href,t=t||It.referrer,o=n,(Be=Ue($t.parseQuery(o))||function(n){var t=Ct,e=n.match(/^[\w-]+:\/\/([^/]+)(?:\/([^?]+)?)?/),o=e&&e[1];if(o){var u=$t.parseQuery(n),r="daum:q eniro:search_word naver:query pchome:q images.google:q google:q yahoo:p msn:q bing:q aol:query aol:q lycos:q lycos:query ask:q cnn:query virgilio:qs baidu:wd baidu:word alice:qs yandex:text najdi:q seznam:q rakuten:qt biglobe:q goo.ne:MT search.smt.docomo:MT onet:qt onet:q kvasir:q terra:query rambler:query conduit:q babylon:q search-results:q avg:q comcast:q incredimail:q startsiden:q go.mail.ru:q centrum.cz:q 360.cn:q sogou:query tut.by:query globo:q ukr:q so.com:q haosou.com:q auone:q m.baidu:word wap.baidu:word baidu:word Baidu:bs www.soso:w wap.soso:key www.sogou:query wap.sogou:keyword m.so:q m.sogou:keyword so.com:pq youdao:q sm.cn:q sm.cn:keyword haosou:q".split(" "),c="",s="";Ht.each(r,function(n){var t=n.split(":"),e=t[0],r=t[1],i=u[r],a=-1<e.indexOf(".")?e:"."+e+".";if(-1<o.indexOf(a.toLowerCase())&&(s=e,c=i))return!1}),s&&((t={})[Te]=s,t[Le]="organic",c&&(t[Ve]=c))}return t}(t))?Je(Be):(i=ne.get(hn),Be=F.test(i)?Ue($t.isStr(i)?$t.parseQuery(i):null):Be),Be||(a=void 0,e=ne.get("__utmz"),(r=e&&e.match(/(utmc(tr|sr|cn|md|ct))=([^|()]+)/g))&&Ht.each(r,function(n){var t=n.split("="),e=t[0],r=void 0,i=t[1]||"";"utmcsr"===e?r=Te:"utmccn"===e?r=Me:"utmcmd"===e?r=Le:"utmcct"===e?r=Re:"utmctr"===e&&(r=Ve),r&&((a=a||{})[r]=i)}),Je(Be=a)),Pe=u),Be}var Ke,$e,We,Xe,ze=Ot.JSON;ze||(ze={parse:function(n){return new Function("return ("+n+")")()},stringify:(Ke=Ht.isArray,$e={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},We=function(n){return $e[n]||"\\u"+(n.charCodeAt(0)+65536).toString(16).substr(1)},Xe=/[\\"\u0000-\u001F\u2028\u2029]/g,function n(t){if(null==t)return"null";if(Ut(t,"number"))return isFinite(t)?t.toString():"null";if(Ut(t,"boolean"))return t.toString();if(Ut(t,"object")){if("function"===Pt(t.toJSON))return n(t.toJSON());if(Ke(t)){for(var e="[",r=0;r<t.length;r++)e+=(r?", ":"")+n(t[r]);return e+"]"}if($t.isObj(t)){var i=[];for(var a in t)t.hasOwnProperty(a)&&i.push(n(a)+": "+n(t[a]));return"{"+i.join(", ")+"}"}}return'"'+t.toString().replace(Xe,We)+'"'})});var He=ze,Ze="__lxsdk_",Ge=Ot.localStorage;function Ye(n){return Ze+n}function nr(){return{length:0,_data:{},setItem:function(n,t){return this.length++,this._data[n]=String(t)},getItem:function(n){return this._data.hasOwnProperty(n)?this._data[n]:Ct},removeItem:function(n){return this.length--,delete this._data[n]},clear:function(){return this.length=0,this._data={}},key:function(n){var t=[],e=this._data;return Ht.each(e,function(n){$t.hasOwn(e,n)&&t.push(n)}),t[n]}}}var tr={get:function(n){n=Ye(n);var t=Ge.getItem(n);return t=Ct!==t?He.parse(t):t},set:function(n,t){return tr.del(n),Ge.setItem(Ye(n),He.stringify(t))},keys:function(){for(var n=[],t=void 0,e=0;e<Ge.length;e++)0===(t=Ge.key(e)).indexOf(Ze)&&n.push(t.replace(Ze,""));return n},del:function(n){try{return Ge.removeItem(Ye(n))}catch(n){}},clear:function(){for(var n=this.keys(),t=0;t<n.length;t++)this.del(n[t])}};if(Ge){if(Ge){var er="___lxtest";tr.nt=!0;try{tr.set(er,1),1!==tr.get(er)?tr.clear():tr.del(er)}catch(n){try{tr.clear(),Ge.setItem(er,1),Ge.removeItem(er)}catch(n){Ge=nr(),tr.nt=!1}}}}else Ge=nr(),tr.nt=!1;var rr="tag",ir=18e5;function ar(n,t,e,r,i,a){var o={};o.c=n,o.k=t,o.v=e,o.t=r||+new Date,o.u=i||"",o.r=a||"",this.toJSON=function(){return $t.extend(!0,{},o)}}var or={set:function(n,t,e){var r=void 0,i=[],a=tr.get(rr)||[];if(!$t.isStr(t)||""===t)return!1;for(var o=0,u=a.length;o<u;o++)ur(r=a[o])||(n===r.c?t!==r.k&&i.push(r):i.push(r));return r=new ar(n,t,e,+new Date),i.push(r.toJSON()),tr.set(rr,i),!0},get:function(n,t){var e=void 0,r=tr.get(rr);if(r&&r.length)return e={},Ht.each(r,function(n){var t={};t[n.k]=n.v,ur(n)||(e[n.c]=$t.extend(!0,e[n.c]||{},t))}),n&&t?e[n]&&e[n][t]:n?e[n]:e},getAll:function(){var n=tr.get(rr),e={},r=void 0;return Ht.each(n,function(n){var t=void 0;!ur(n)&&n.v&&(r=!0,(t={})[n.k]=n.v,e[n.c]=$t.extend(!0,e[n.c],t))}),r&&e},clear:function(t,e){if(!arguments.length)return tr.set(rr,[]);if($t.isStr(t)){var n=tr.get(rr),r=[];Ht.each(n,function(n){(e!==Ct&&n.k!==e||t!==n.c)&&r.push(n)}),tr.set(rr,r)}}};function ur(n){var t=$t.now();return ir<t-n.t}function cr(n){return n}function sr(n){try{n(hr(this,dr),hr(this,fr))}catch(n){if(this._state===lr)return mr(new sr(cr),fr,n)}}sr.prototype.then=function(n,t){return function(n,t,e,r){Pt(e)===vr&&(t._onFulfilled=e);Pt(r)===vr&&(t._onRejected=r);n._state===lr?n[n._pCount++]=t:gr(n,t);return t}(this,new sr(cr),n,t)},sr.all=function(l){return new sr(function(r,e){for(var n,t,i,a=0,o=l.length,u=[],c=0,s=void 0,f=function(e){return function(n){if(e.value=n,e.state=dr,++c===e.len&&!s){var t=function(n){var t=[];for(a=0;a<o;a++)t.push(n[a]?n[a].value:void 0);return t}(u);r(t)}}},d=function(t){return function(n){t.value=n,t.state=fr,c++,s||(s=!0,e(n))}};a<o;a++)t=n=void 0,t=l[a],i={value:null,index:a,state:null,len:o},u.push(i),n=i,t.then?t.then(f(n),d(n)):sr.resolve(t).then(f(n),d(n))})},sr.resolve=function(t){if(t instanceof sr)return t;if($t.isFunc(t.then)){var e=t.then.bind(t);return new sr(function(n,t){e(n,t)})}return new sr(function(n){n(t)})},sr.reject=function(e){return new sr(function(n,t){t(e)})};var fr=0,dr=1,lr=2,vr="function",pr="object";function hr(t,e){return function(n){return mr(t,e,n)}}function gr(e,r){return setTimeout(function(){var n=void 0,t=e._state?r._onFulfilled:r._onRejected;if(void 0!==t){try{n=t(e._value)}catch(n){return void mr(r,fr,n)}_r(r,n)}else mr(r,e._state,e._value)})}function mr(n,t,e){if(n._state===lr){n._state=t,n._value=e;for(var r=0,i=n._pCount;r<i;)gr(n,n[r++]);return n}}function _r(t,n){if(n!==t||!n){var e=void 0,r=Pt(n);if(null===n||r!==vr&&r!==pr)mr(t,dr,n);else{try{e=n.then}catch(n){return void mr(t,fr,n)}Pt(e)===vr?function(t,e,n){try{n.call(e,function(n){e&&(e=null,_r(t,n))},function(n){e&&(e=null,mr(t,fr,n))})}catch(n){e&&(mr(t,fr,n),e=null)}}(t,n,e):mr(t,dr,n)}return t}mr(t,fr,new Error("promise_circular_chain"))}sr.prototype._state=lr;var yr=!1,br=2e3,wr=[],xr=!1,Sr=void(sr.prototype._pCount=0);function kr(t,e){Ht.each(wr,function(n){n(t,e)}),wr=[]}function qr(n){var t=Ot.KNB;if(Ce()){if(c===we)n(Ct,t);else if(yr||Sr)n(Sr,t);else if(wr.push(n),!xr){xr=!0;var e=T(function(){kr(Sr=p,t)},br);Jt();/meituan \d+/i.test(Et)||/meituangroup\/7\.([0-7])\./i.test(Et)?kr(Sr=i,t):(t.ready(function(){}),t.ready(function(){t.isApiSupported({apiName:"lxlog",success:function(n){!0===n?(yr=!0,Jt(),v(e),kr(Ct,t)):kr(Sr=i,t)},fail:function(){v(e),kr(Sr=m)}})}))}}else n(r,t)}var Or=500,Ar="getUserInfo";function Ir(){return new sr(function(a,r){qr(function(n,t){var e=Ot.DPApp,i=T(function(){a({})},Or);t?t.ready(function(){t.use(Ar,{success:function(n){var t,e,r;v(i),a((e={},(r=(t=n)[E])&&"0"!==r||"dp"!==t.type?t[E]&&(e[E]=t[E]):e[E]=t[q],"dp"!==t.type&&t[q]&&(e[q]=t[q]),t.unionId&&(e.unionId=t.unionId),t.userId&&(e.userId=t.userId),e))},fail:function(n){v(i),r({code:h})}})}):e&&e[Ar]?e.ready(function(){e[Ar]({success:function(n){v(i);var t={};(n.dpid||n.userId)&&(t.dpid=n.dpid,t.userId=n.userId,t.unionId=n.unionId),a(t)},fail:function(n){v(i),r({code:o,res:n})}})}):r({code:o})})})}var jr,Dr=(jr=function(){for(var n=1*new Date,t=0;n===1*new Date&&t<200;)t++;return n.toString(16)+t.toString(16)},function(){var n=(screen.height*screen.width).toString(16);return jr()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var n=_e,t=void 0,e=void 0,i=[],r=0;function a(n,t){var e=void 0,r=0;for(e=0;e<t.length;e++)r|=i[e]<<8*e;return n^r}for(t=0;t<n.length;t++)e=n.charCodeAt(t),i.unshift(255&e),4<=i.length&&(r=a(r,i),i=[]);return 0<i.length&&(r=a(r,i)),r.toString(16)}()+"-"+n+"-"+jr()});function Er(){var n,t=ne.get(mn)||Dr();return(n=t)&&ne.top(mn,n,vn),t}function Cr(){return Math.floor(1+65535*$t.rnd()).toString(16).substring(1)}function Nr(n){var t=n.match(/(\d+)(?:\.(\d+)(?:\.(\d+))?)?/),e=[];if(t)for(var r=1;r<t.length;r++)e.push(parseInt(t[r]||0));return e}function Fr(n,t){var e=Nr(n),r=Nr(t);return!(e[0]<r[0])&&(!(e[0]===r[0]&&e[1]<r[1])&&!(e[0]===r[0]&&e[1]===r[1]&&e[2]<r[2]))}var Tr="getEnv",Lr=b,Vr=!1,Mr=!1,Rr=!1,Br=!1,Pr=[],Ur=0,Jr=void 0,Qr=$t.now();function Kr(n){var t=(n._opts||{}).nativeOptions||{};return{cb:"_lx"+(100*$t.now()+Ur++),mn:n._mn,cn:n._cn,data:n._d||{},options:t,ver:4}}function $r(n,t,e,r,i){i=i||{};var a=this;a._cn=n,a._mn=t,a._d=e,a._cb=r,a._opts=i}function Wr(n,t,e,r,i){if(V===Lr||M===Lr)return r(Lr);var a=new $r(n,t,e,Kn,i);if(y===Lr)a.send(function(n,t){r(n,t)});else if(b===Lr){if(Pr.push([a,r]),!Vr){Vr=!0;new Date;new $r(n,Tr,{}).send(function(r,n){if(new Date,r&&L(r),r)Lr=V;else{if(Lr=y,vt(un),$t.isStr(n))try{n=He.parse(n)}catch(n){}var t=(Jr=n).sdk_ver||"";Mr=Fr(t,"4.0.0"),Rr=Fr(t,"4.3.0"),Br=!Fr(t,"4.8.0")}Ht.each(Pr,function(n){var t=n[0],e=n[1];r?(L(r),e(r)):t.send(function(n,t){e(n,t)})})})}}else r(R)}function Xr(){return Mr}var zr=3,Hr=150,Zr=5e3,Gr=3500,Yr=!($r.prototype.send=function(e){var r=this,i=Kr(r),n="statistics://_lx/?data="+Lt(He.stringify(i)),t=$t.now();Jr&&5e3<t-Qr&&r._mn===Tr&&Lr===y?(r._mn,e(0,Jr)):(r._mn,i.cb,function(i,a,o){if(we!==c||!window.JavaScriptBridge)return qr(function(n,t){if(n)return o(n);var e=!1,r=T(function(){e=!0,o(p)},5e3);t.use(i,{data:a,success:function(n){if(v(r),!e)if("success"===n.status){var t=n.data||{};try{$t.isStr(t)&&(t=He.parse(t)),o(Ct,t.data?t.data:n)}catch(n){o(n)}}else o(m)},fail:function(){v(r),e||o(m)}})});window.JavaScriptBridge.log(a,function(n){var t=n.data;try{$t.isStr(t)&&(t=He.parse(t)),o(Ct,t.data?t.data:t)}catch(n){o(n)}})}("lxlog",n,function(n,t){n?(r._mn,i.cb,new Date,L(n)):(r._mn,i.cb,new Date),e(n,t)}))}),ni=[],ti=[],ei=0,ri=0;function ii(n,t,e,r,i){var a=[{project:"web-lx-sdk",pageUrl:At.href,resourceUrl:n,category:i?"jsError":"ajaxError",sec_category:t,level:"error",unionId:e,timestamp:$t.now(),content:""+r||""}],o=fi("//catfront.dianping.com/api/log?v=1","application/x-www-form-urlencoded");o&&(o.onerror=o.onreadystatechange=function(){},o.send("c="+encodeURIComponent(He.stringify(a))))}function ai(n,t){if(zr<=ri)return!1;t=$t.extend({cb:Bt},t||{});var e,r,i,a,o=(Yn&&!e||(Yn=et(Jn)),Yn),u=!rt.use_post;try{u&&function(n){var t=Jt().toString(16)+ei++,e=void 0,r=(i=n,a=[],o=[{l:jn,s:Dn},{l:wn,s:xn},{l:Sn,s:kn},{l:qn,s:On},{l:En,s:Cn},{l:An,s:In}],Ht.each(i,function(n){var t=$t.extend(!0,{},n);Ht.each(o,function(n){di(t,n.l,n.s)});var e=[];Ht.each(n.evs,function(r){r=$t.extend(!0,{},r),Ht.each(r,function(n,t){if(-1<t.indexOf("val_")&&(r[t.replace("val_","")]=r[t],delete r[t]),di(r,"refer_url","urlr"),r[t]&&"url"===t){var e=At.hash;e&&(r.urlh=e),delete r[t]}}),e.push(r)}),t.evs=e,t[Cn]===t.uuid&&delete t.uuid;var r=t[kn];r&&(t[kn]=r.replace("data_sdk_","")),delete t.ua,a.push(t)}),a);var i,a,o;if(Ht.each(r,function(n){delete n.ua}),!function(n){for(var t=n.length,e=t,r=0;r<t;r++)127<n.charCodeAt(r)&&e++;return 1.5*e<2036}(e=He.stringify(r)))return Ht.each(n,function(n){Ht.each(n.evs,function(n){var t=$t.extend(!0,{custom:{_s:1}},n.val_lab||{});n.val_lab=t})}),!1;var u=te(e),c=Lt(u),s=(nt&&!f||(nt=et(Qn)),nt);var f;return s+=-1<s.indexOf("?")?"&d="+c:"?d="+c,c.length,function n(t,e){var r=void 0,i=Vn+ce++;if(!(2<(e=e||0)))return Ot[i]=r=new Image,r.onload=function(){Ot[i]=null},r.onabort=r.onerror=function(){Ot[i]=null,n(t,++e)},r.src=t,r}(s=s+"&t=1&r="+t),!0}(n)?t.cb(y):ui(o,n,t)||Oe&&oi(o,n,t)||(r=o,i=n,(a=Dt.sendBeacon)&&(r=si(r),a&&a.call(Dt,r,He.stringify(i)))&&t.cb(y))}catch(n){return ii(At.path,"report-ajax",0,n.message,!0),!1}return!0}function oi(n,t,e,r){if(!Ot.XDomainRequest)return!1;try{var i=new XDomainRequest;return i.open(Rn,si(n),!0),i.onload=function(){ri=0,e&&e.cb(y),ni=[]},i.onerror=function(){ri++},i.ontimeout=function(){ri++,r||(ci(n,t,oi,e),Yr=!0)},i.timeout=Zr,i.send(He.stringify(t)),!0}catch(n){return!1}}function ui(t,e,r,i,a){if(!zn())return!1;try{var o=fi(t,"text/plain");return o.onreadystatechange=function(){if(4===o.readyState){var n=o.status;200<=n?(ri=0,r&&r.cb(y,o.responseText),ni=[]):(ri++,i||!1!==a||(ci(t,e,ui,r),Yr=!0)),r.nm===B&&(400<=n||0===n)&&ii(t,"web-report-fail",e[0].union_id,n),o.onreadystatechange=null}},o.onerror=function(){o.abort(),ri++},o.send(He.stringify(e)),!0}catch(n){return!1}}function ci(n,t,e,r){ni=ni.concat(t);var i=void 0,a=Ht.reduce(ni,function(n,t){return t.evs=n.evs.concat(t.evs),i=t.evs.length,Hr<i&&Ht.slice(t.evs,i-Hr,i),t});if(ni=[a],ti.push(r),!Yr)var o=setInterval(function(){if(zr<=ri)return clearInterval(o),!1;e(n,ni,function(t){clearInterval(o),Yr=!1,Ht.each(ti,function(n){n&&n(t)})},!0)},Gr)}function si(n){var t="_lxsdk_rnd="+(Jt().toString(16)+ei);return-1===n.indexOf("?")?n+"?"+t:n+"&"+t}function fi(n,t){var e=new($n());return e.open(Rn,si(n),!0),e.timeout=Zr,e.setRequestHeader("Content-Type",t),e}function di(n,t,e){return Rt.call(n,t)&&n[t]&&(n[e]=n[t],delete n[t]),n}var li={},vi=sn,pi=[],hi=null,gi={s:O,l:k,a:C,w:d};function mi(n){var t=/(^\w+-\w+-\w+-\w+-\w+)/;if(t.test(n)){var e=n.match(t);ne.top(gn,e[1],vn)}else n&&!/(^\w+\.\d+\.\d+\.\d+\.\d+)/.test(n)&&n.length<100?ne.top(gn,n,vn):ne.top(gn,"",-1)}var _i=0,yi=1,bi=2,wi="|";function xi(n){var t=ne.get(yn);return t?t.split(wi)[n]:""}function Si(n,t,e){var r,i,a;ne.top(yn,(r=t,i=e,(a=[]).push(n||ki()),a.push(r||qi()),a.push(i||Oi()),a.join(wi)),pn)}function ki(){return xi(_i)}function qi(){return xi(yi)}function Oi(){var n=0,t=xi(bi);return isNaN(t)||(n=parseInt(t)),n<0?0:n}function Ai(n){Si(Ct,Ct,n)}function Ii(n,c){return new sr(function(o,u){T(function(){u({code:p})},3e3),Wr(n,"getEnv",{},function(n,t){if(n)u(n);else{hi=rt.nativeSDKVer=t.sdk_ver,a=rt.nativeSDKVer,$t.isStr(a)&&(at.MVL=-1<se(a,"4.14.0"),at.QC=-1<se(a,"4.14.0"),at.getReqId=-1<se(a,"4.12.0"));var e={uuid:q,msid:O,uid:j,dpid:E,appnm:C,union_id:s};for(var r in c=c||{},e){var i=e[r];t[r]&&(c[i]=t[r])}o(c)}var a})})}function ji(){var n=ne.get(bn);if(n){var t=n.split(","),e=/^\d+\.\d{5,}$/;return 3!==t.length?null:e.test(t[0])&&e.test(t[1])?{lat:t[0],lng:t[1],tm:t[2]}:null}return null}function Di(n){return $t.extend(!0,{},n)}function Ei(n){var t=It.getElementsByTagName("meta"),e=ee(t,"lx:appnm"),r=ee(t,"lx:defaultAppnm"),i=we,a=It.domain,o=lt();return ut("appnm",e),ut("defaultAppnm",r),xe&&he(we||e||r||a),Se?e||(2===o?n:i||(r||a)):e||(i||(r||a))}function Ci(){var n,t,e,r,i,a,o=we===S||we===x||Fe,u=(n=ne.get(gn),t=ne.get("iuuid")||ne.get("uuid")||n,e=ki(),r=qi(),i=ne.get(_n)||ne.get(E),a={},t&&(a[q]=t),e&&(a[O]=e),n&&(a[k]=n),r&&(a[j]=r),i&&(a[E]=i),a),c=void 0,s={};o&&(s=function(n){var i={};if(F.test(n)){var t=$t.parseQuery(n);if(t[q]&&(i[q]=t[q]),t[A]&&(i[A]=t[A]),t[D]&&(i[j]=t[D]),t.__lxsdk_params){var e=t.__lxsdk_params.split(";");Ht.each(e,function(n){var t=n.split(":"),e=t[0],r=t[1];r&&(i[e]=r)})}return i}return i}(At.href)),(c=$t.extend(u,s)).ct=qe;var f=Qe();f&&(c[I]=f);var d,l,v=Er();c[k]=v,c[q]||(c[q]=v),c[O]||(c[O]=(d=[],l=+new Date,d.push(l.toString(16)),d.push(Cr()),d.push(Cr()),d.push(Cr()),d.join("-")),Si(c[O],c.uid||"")),c[q]&&mi(c[q]);var p=Ei();$t.isStr(p)&&(c[C]=p);var h,g=(h=Et.replace(/^.*([A-Za-z-]+)\/com\.(sankuai(?!\.meituan\.)|meituan(?!\.sankuai\.)|dianping|sankuai\.meituan|meituan\.sankuai)\.([.A-Za-z0-9-]+)\/(\d+[.\d]+).*$/,"$4"),/^\d+(\.\d+)+$/.test(h)?h:null);for(var m in g&&(c.app=g),gi){var _=gi[m],y=c[m],b=me&&$t.isFunc(me.getItem)&&me.getItem(w+_)||null;(y=y||b)&&(c[N]=c[N]||{},c[N][_]=c[_],c[_]=y,delete c[m])}return c}function Ni(t){return function(n){var e=n;return t!==n&&(e=$t.extend(t,n)),e.dpid&&e.uid?e:Ir().then(function(n){var t={};return n.dpid&&(t.dpid=n.dpid,n.userId&&(t.uid=""+n.userId),n.unionId&&(t.union_id=n.unionId)),e=$t.extend(e,t)},function(n){return L(n),e})}}var Fi=function(n){var o=Ci();if(n&&we||Ce()){var t=Ii(n,o);return a===we&&(t=t.then(Ni(o),function(n){return L(n),Ni(o)()})),t.then(function(n){var t=Ei(n[C]),e=n[E],r=n[q],i=n[s],a=n;return n!==o&&(a=$t.extend(o,n)),$t.isStr(t)&&(a[C]=t),r&&mi(r),e&&ne.top(_n,e,vn),i&&ne.top("_lxsdk_unoinid",i,vn),a},function(n){return n&&L(n),o})}var e,r=Di(o),i=r[N];return(e=$t.now(),new sr(function(n){if(Fe)if(Ot.WeixinJSBridge&&Ot.WeixinJSBridge.invoke)n("miniprogram"===Ot.__wxjs_environment);else{var t=setTimeout(function(){rt.wx_t=$t.now()-e,n(!1)},5e3);It.addEventListener("WeixinJSBridgeReady",function(){clearTimeout(t),rt.wx_t=$t.now()-e,n("miniprogram"===Ot.__wxjs_environment)})}else n(!1)})).then(function(n){if(n&&i&&me&&$t.isFunc(me.setItem))try{me.setItem(w+C,r[C]||""),me.setItem(w+d,r[d]||""),me.setItem(w+k,r[k]||""),me.setItem(w+O,r[O]||"")}catch(n){}return sr.resolve(r)})};function Ti(n){return dn===vi?sr.resolve(Di(li)):fn===vi?new sr(function(t){var n;n=function(n){t(n)},pi.push(n)}):(vi=fn,Fi(n).then(function(e){return li=$t.extend(!0,{},e||{}),vi=dn,Ht.each(pi,function(n,t){$t.isFunc(n)&&pi[t](e)}),e}))}var Li=/([a-fA-F0-9-]+)(\.\d+)/,Vi="_hc.v",Mi=525600,Ri="",Bi=/(dper|dianping|51ping)\.com/.test(jt);function Pi(){return function(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}()+"."+Math.round(+new Date/1e3)}function Ui(){return!Ri&&Bi&&(Ri=function(){var n=ne.get(Vi);if(n||(n=Pi(),ne.top(Vi,n,Mi)),n){var t=n.match(Li);return t?t[1]:""}return""}()),Ri}var Ji=function(){var n=void 0;try{var t=document;if(t.querySelectorAll){var e=t.querySelectorAll("head script"),r=t.querySelectorAll("body script"),i=[];Ht.each(e,function(n){i.push(n)}),Ht.each(r,function(n){i.push(n)});for(var a=0;a<i.length;a++){var o=i[a].innerHTML.match(/\[['"]\s*_setPageId\s*['"]\s*,\s*(\d+)\s*\]/);if(o){n=o[1];break}}}}catch(n){}return function(){return n}}();function Qi(n){var t=this;t.s=n;var e=void 0,r=tr.get(Ln)||{s:n,d:t.d};r.s!==n?(tr.del(Ln),e=t.d=[]):e=t.d=r.d||[],t.l=e&&e.length||0}Qi.prototype={constructor:Qi,set:function(n,t,e){var r=this,i=r.l,a=r.d,o=r.indexOf(n),u={scid:0<i?a[i-1].scid+1:0,cid:n,bid:t,sf:e};-1<o?a.splice(o,i-o,u):a.push(u),r.l=a.length,tr.set(Ln,{s:r.s,d:a})},indexOf:function(n){for(var t=this.d||[],e=0,r=t.length;e<r;e++){if(t[e].cid===n)return e}return-1},toJSON:function(){var n=this.d;return n&&n.length?n:null}};var Ki=null;function $i(){return Ki}var Wi="category",Xi="setEvs",zi="val_bid",Hi="page",Zi="s_from",Gi="lat",Yi="lng",na=[],ta=It.referrer,ea=[],ra=void 0,ia=void 0,aa={},oa=0,ua=function(n,t,e){if(e){var r={},i={custom:r};r[t]=e,n=$t.extend(!0,n||{},i)}return n};function ca(n,t){this.env=t||{},this.opts=$t.extend(!0,{},n),na.push(this),bt=this}var sa=ca.prototype;function fa(n){return 6===n._ptpvs}function da(){return!oa}function la(n){return(n=n||{})&&!$t.isObj(n)&&(n={cid:""+n}),n}function va(e,r,i,a,o){var n,u=this,t=o=o||{},c=t.isLeave,s=t.currentPageInfo,f=t.mvDelay,d=t.sf;if(lt()===cn){var l=_a(u),v=Sa(or.getAll()),p=ba(e,r,i,a),h=p.body,g=p.ev,m=ka(l,h,v);if(e===Q){if(f)return $t.run(h,function(n){ea.push(n)}),void T(function(){if(ea.length){var n=ka(l,ea,v);u.send(n),ea=[]}},f*on)}else{if(e===K)return void wt.call(u,K,l,h[0],{tag:v});if(e===U){if(s&&function(n,t){$t.isObj(n[Nn])||(n[Nn]={});n[Nn][Hi]=t}(g,u._cpi),m=ka(l,h,v),c){var _=oe(),y=ya(P,r,Ct,_);m.evs.push(y)}xe&&d&&$i().set(r,i,d)}}u.send(m,{nm:e})}else{var b=u.env,w=void 0,x=(n=(n={isQuickReport:!1})||{},{isQuickReport:ot("QC")&&!!n.isQuickReport}),S=[xa.call(u,e,r,i,a)];if(e===U&&(w={sf:d},u._cpi&&(w.cpi=u._cpi),S=[xa.call(u,e,r,i,a,null,w)],c)){var k=oe(),q=xa.call(u,P,r,null,k);S.push(q)}b[I]&&(S=function(n,t){if(!Ht.isArray(n)||!n.length)return n;if(!$t.isObj(n[0][Nn]))return n[0][Nn]={page:{utm:t[I]}},n;if(!$t.isObj(n[0][Nn][Hi]))return n[0][Nn][Hi]={utm:t[I]},n;return n[0][Nn][Hi]=$t.extend(!0,n[0][Nn][Hi],{utm:t[I]}),n}(S,b));var O=ma(b[Wi]);new Date;Wr(O,Xi,S,function(n,t){n?(vt(cn),L(n),new Date,va.call(u,e,r,i,a,o)):new Date},{nativeOptions:x})}}function pa(){return ra||(ra=ha()),ra}function ha(){return $t.now().toString(16)+"-"+Math.floor(65535*$t.rnd())+"-"+Math.floor(65535*$t.rnd())}function ga(n){var t,e,r=n.nm;B===r?(n.nm="mpt",n.val_act="pageview"):P===r?(n.nm="report",n.val_act="quit"):(n.nm="mge",n.event_type=(t=r,(e={})[W]="order",e[X]="pay",e[U]="click",e[$]="return",e[Q]="view",e[J]="click",e[t]||r)),n.nt=0,n.isauto=8}function ma(n){return 0===n.indexOf("data_sdk_")&&(n=n.replace(Wi,"")),n}function _a(n){var t,e,r=$t.extend(!0,{},n.env);r[Wi]=(t=r[Wi],e="data_sdk_",0!==t.indexOf(e)&&(t=e+t),t);var i=r.utm,a={ua:_e,sdk_ver:g,ch:i&&i.utm_source?i.utm_source:"web",sc:De};return a[jn]=g,$t.extend(!0,a,r)}function ya(n,t,e,r,i){i=i||_;var a,o,u,c,s,f=(a=!0,o=Oi(),!0===a&&Ai(++o),(!o||o<-1)&&Ai(o=0),o),d=ji(),l=void 0,v=B===n,p=W===n,h=X===n,g={nm:n,tm:$t.now(),nt:cn,isauto:i,val_cid:t,req_id:pa(),seq:f};if(v){var m=At.href;g.url=m,(l=ta)&&(g.refer_url=l),i===_&&(ta=m)}return(p||v||h)&&xe&&(u=g,(c=$i().toJSON())&&(u[Zi]=c),g=u),r=ua(r,"_hguid",Ui()),(s=r)&&s.custom&&"v3"===s.custom._api&&!t&&(g.val_cid=It.title||At.pathname,r=ua(r,"_cid",1)),v&&(r=ua(r,"_hpid",Ji()),rt.wx_t&&(r=ua(r,"_wx_t",rt.wx_t))),e&&(g[zi]=e),r&&(g[Nn]=r),d&&(g[Gi]=d.lat,g[Yi]=d.lng),g}function ba(n,t,e,r,i){var a=ya(n,t,e,r,i);return{body:function(n){{if(ea&&0<ea.length){var t=ea;return ea=[],t.push(n),t}return[n]}}(a),ev:a}}function wa(n){return ke?n:be&&!Br?n:Lt(n)}function xa(n,t,e,r,i,a){a=a||{},i=i||_;var o=this.env.appnm,u=ji(),c=!pt,s=void 0,f={nm:n,tm:$t.now(),nt:un,isauto:i,val_cid:t,shouldCover:c};f=$t.extend(!0,f,aa),ia&&(f.req_id=ia),a.sf&&(f._sf=a.sf);var d=void 0,l=$t.extend(!0,{},r||{}),v=B===n;if(v){var p=wa(At.href);d={ua:_e,url:p};var h=Qe();h&&h.utm_source&&(d.utm=h),(s=ta)&&(d.refer_url=wa(s)),i===_&&(ta=p)}else d={};return Ht.each({web_req_id:pa(),web_sdk_ver:g,lxcuid:Er(),web_appnm:o,covered_by_native:c},function(n,t){$t.isStr(n)&&(d[t]=n)}),$t.isObj(l.custom)&&"v3"===l.custom._api&&(d.web_appnm=function(n){if($t.isStr(n))return n&&tt[n]||tt}("appnm")),a.cpi&&!l.page&&(l.page=a.cpi),l.custom=$t.extend(!0,l.custom,d),l=ua(l,"_hguid",Ui()),v&&(l=ua(l,"_hpid",Ji())),n!==J||Rr?Xr()||ga(f):Xr()?f.nm=U:ga(f),f[Nn]=l,u&&(f[Gi]=u.lat,f[Yi]=u.lng),e&&(f[zi]=e),v&&!Xr()&&(f.val_val=l,delete f[Nn]),f}function Sa(n){return n}function ka(n,t,e){return Ht.isArrayLike(t)||(t=[t]),$t.run(t,function(n){n&&e&&(n.tag=e)}),n.evs=t,n}function qa(n,t){var e={};return e[an]=t,$t.extend(e,n)}function Oa(e,n,t,r){var i,a,o,u,c=(i=n,a=t,o=r,u=null,!$t.isStr(i)||a||o?$t.isObj(i)&&$t.isStr(a)&&!o&&(u=a,a=null):(u=i,i=null),u&&(o=$t.extend({cid:u},o||{})),{lab:i,env:a,opts:o}),s=c.lab,f=c.env;r=la(c.opts);var d=e.opts.cid=r.cid||e.opts.cid;r=$t.extend({cid:d},r),f&&$t.isObj(f)&&Ht.each(f,function(n,t){e._dt.set(t,n)}),e._dt.pageView(s,r)}function Aa(n,t){this.env=n||{},this.opts=t||{},this._t=[]}sa.set=function(n,t,e){var r=this,i=r.env;if($t.isObj(n))Gt(n,function(n,t){r.set(t,n)});else if(ut(n,i[n]=t),"utm"===n&&$t.isObj(t)&&Je(t),un!==lt()||Mn[n])$t.isFunc(e)&&e(i,r);else{var a={},o=ma(i[Wi]);a[n]=t,Wr(o,"setEnv",a,function(){$t.isFunc(e)&&e(i,r)})}},sa.get=function(n,t){$t.isFunc(t)&&t(this.env[n],this)},sa.pageView=function(e,r){r=la(r)||{};var n=void 0,i=this,t=i.opts.cid,a=r.cid||t,o=r.isauto||_,u=r.isAutoInit,c=r.reportStatus,s=t&&!(fa(i)||u)&&!da(),f=c===cn||cn===lt(),d=i.env;if(this._cpi=e,s&&!st()){var l=oe(!0);n=f?ya(P,t,null,l):xa.call(i,P,t,null,l),ct(0)}if(t&&(fa(i)||da())||(ra=ha()),i.opts.cid=a,f){var v=_a(i),p=Sa(or.getAll()),h=ba(B,a,null,e,o).body;s&&n&&h.unshift(n);var g=ka(v,h,p);this.send(g,{nm:B}),u||oa++}else{var m=[xa.call(i,B,a,null,e)];s&&n&&m.push(n),Ht.each(m,function(n){n.appnm=d.appnm}),Wr(ma(d[Wi]),Xi,m,function(n,t){n?(vt(cn),i.pageView(e,r),ii(At.href,"native-report-error",i.env.union_id,L(n))):u||oa++})}i._ptpvs=u?6:_},sa.pageDisappear=function(e,r){r=$t.extend({},r);var i=this,n=r.cid||i.opts.cid,t=r.getDurationFromLastPV||!1,a=r.shouldStore;ct(f);var o=oe(t);if(e=$t.extend(o,e),cn===lt()||a){var u=ka(_a(i),ya(P,n,null,e),Sa(or.getAll()));a&&tr.nt?(pe()&&(u[C]=ge()),tr.set(l,u)):i.send(u)}else{var c=this.env,s=[xa.call(i,P,n,null,e)];Wr(ma(c[Wi]),Xi,s,function(n,t){n&&(vt(cn),i.pageDisappear(e,r))})}kt()},sa.systemCheck=function(e,r,i){i=$t.extend({},i);var a=this,n=i.cid||a.opts.cid,t=!!i.isLXLog;if(cn===lt()){var o=_a(a),u=ka(o,ba(J,n,e,r).body,Sa(or.getAll()));t&&(o.category="others"),this.send(u)}else{var c=a.env,s=[xa.call(a,J,n,e,r)],f=ma(c[Wi]);t&&(f="others"),Wr(f,Xi,s,function(n,t){n&&(vt(cn),a.systemCheck(e,r,i))})}},sa.moduleView=function(n,t,e){e=$t.extend({},e);var r=this.opts.mvDelay||e.delay,i=e.cid||this.opts.cid;va.call(this,Q,i,n,t,{mvDelay:r})},sa.moduleViewList=function(n,t,e){e=$t.extend({},e);var r=this.opts.mvDelay||e.delay,i=e.cid||this.opts.cid,a=ot("MVL");lt()!==un||a?va.call(this,K,i,n,t):va.call(this,Q,i,n,t,{mvDelay:r})},sa.moduleClick=function(n,t,e){var r=(e=$t.extend({},e)).cid||this.opts.cid,i=e.sf;e&&e.isLeave&&ct(f);var a=e.withPageInfo&&$t.isObj(this._cpi)?this._cpi:Ct;va.call(this,U,r,n,t,{currentPageInfo:a,isLeave:e.isLeave,sf:i})},sa.moduleEdit=function(n,t,e){var r=(e=$t.extend({},e)).cid||this.opts.cid;va.call(this,$,r,n,t,e)},sa.order=function(e,r,i){i=$t.extend({},i);var a=this,n=i.cid||a.opts.cid;if(ue(0,r),cn===lt()){var t=ka(_a(this),ba(W,n,e,r).body,Sa(or.getAll()));this.send(t)}else{var o=this.env,u=[xa.call(a,W,n,e,r)];Wr(ma(o[Wi]),Xi,u,function(n,t){n&&(vt(cn),a.order(e,r,i))})}},sa.pay=function(e,r,i){i=$t.extend({},i);var a=this,n=i.cid||a.opts.cid;if(ue(0,r),cn===lt()){var t=ka(_a(a),ba(X,n,e,r).body,Sa(or.getAll()));this.send(t,{cb:function(){or.clear()}}),a.clearTag()}else{var o=this.env,u=[xa.call(a,X,n,e,r)];Wr(ma(o[Wi]),Xi,u,function(n,t){n&&(vt(cn),a.pay(e,r,i))})}},sa.tag=function(e,n,t,i){var r=void 0,a=this.env,o=arguments,u=[],c=function(n){if(!$t.isObj(n))return n;for(var t=n,e=0,r=u.length;e<r;e++){if(!t)return t;t=t[u[e]]}return t},s=function(){Ht.each(o,function(n){if(!$t.isStr(n))return!1;u.push(n)})},f=function(n,t,e){var r={};r[n]=t,Wr(ma(a[Wi]),"setTag",r,function(n,t){i&&(e&&s(),i(n,c(t),!0))})},d=function(n){var t=or.getAll();n||s(),i&&i(0,c(t),!1)};if(Ht.each(o,function(n){$t.isFunc(n)&&(i=n)}),$t.isObj(e)){var l=this;Ht.each(e,function(n,t){l.tag(t,n)})}else $t.isStr(e)&&$t.isObj(n)?cn!==lt()?f(e,r=n,!0):(Gt(n,function(n,t){or.set(e,t,n)}),d(!0)):($t.isObj(t)||$t.isStr(t))&&function(n){if(!$t.isStr(n)&&!n.length)return!1;return!0}(e)&&$t.isStr(n)?cn!==lt()?((r={})[n]=t,f(e,r,!0)):(or.set(e,n,t),d(!0)):$t.isFunc(e)||$t.isFunc(n)||$t.isStr(e)&&$t.isStr(n)&&$t.isFunc(t)?cn!==lt()?(s(),Wr(ma(a[Wi]),"getTag",{},function(n,t){i&&i(n,c(t),!0)})):d():i&&i(-1)},sa.clearTag=function(n,t,e){var r=0;cn===lt()?($t.isFunc(n)&&(e=n,n=Ct),or.clear(n,t),e&&e(0)):r=-1,e&&e(r)},sa.sfrom=function(r){var i=void 0,n=this.env;cn!==lt()?Wr(ma(n[Wi]),"getSFrom",{},function(n,t){if(t){var e=t.data?t.data:t;i=$t.isStr(e)?JSON.parse(e):e,r(n,i)}}):r(1,[])},sa.send=function(n,t){var e=[];t=$t.extend({cb:function(){}},t),$t.run(n,function(n){pe()&&(n[C]=ge()),e.push(n)});var r=function(){var n=tr.get(l);n&&tr.del(l);return n}();r&&e.unshift(r),ai(e,t)},sa.getAll=function(){return na};var Ia=Aa.prototype;Ia.create=function(n,t){var e=$t.extend({},this.env);e=$t.extend(e,{category:n});var r=$t.extend({isDefault:!1},this.opts),i=new ca(r=$t.extend(r,t||{}),e);return this._t.push(i),t.isDefault&&(this._dt=i),i},Ia.config=function(n,t){return Ct!==n&&(rt[n]=t),"cid"===n&&zt(t)&&(this.opts.cid=t),rt[n]},Ia._initPV=function(n,t){Oa(this,this.config("pageValLab"),n=$t.extend(n,this.config("pageEnv")),{isauto:6,reportStatus:cn,cid:t,isAutoInit:!0})},Ia.pageView=function(n,t,e){Oa(this,n,t,e)},Ia.moduleView=function(n,t,e){this._dt.moduleView(n,t,e)},Ia.moduleViewList=function(n,t,e){this._dt.moduleViewList(n,t,e)},Ia.systemCheck=function(n,t,e){this._dt.systemCheck(n,t,e)},Ia.moduleClick=function(n,t,e){this._dt.moduleClick(n,t,e)},Ia.moduleEdit=function(n,t,e){this._dt.moduleEdit(n,t,e)},Ia.order=function(n,t,e,r){this._dt.order(n,qa(e,t),r)},Ia.pay=function(n,t,e,r){this._dt.pay(n,qa(e,t),r)},Ia.pageDisappear=function(n,t){this._dt.pageDisappear(n,t)},Ia.tag=function(n,t,e,r){this._dt.tag(n,t,e,r)},Ia.sfrom=function(n){this._dt.sfrom(n)},Ia.clearTag=function(n,t,e){this._dt.clearTag(n,t,e)},Ia.getAll=function(n){n&&n(this._t)},Ia.getTracker=function(t,n){var e=Ht.find(this._t,function(n){return n.env.category===t});n&&n(e)},Ia.get=function(n,t){this._dt.get(n,t)},Ia.set=function(n,t,e){this._dt.set(n,t,e)},Ia._setRequestID=function(n){ia=n},Ia._setNativeEvsData=function(n,t){var e;e=t,aa[n]=e};var ja=void 0,Da=!0,Ea=function(){var n,t,e;!rt.onWebviewAppearAutoPV||(t=n||Jt(),e=re(),ae.update(t),Vt=t,e&&(e.l=t),$a(),ja.pageView(),ct(0))},Ca=function(){!!rt.onWebviewAppearAutoPV&&(st()||(ct(f),ja.pageDisappear({},{getDurationFromLastPV:!0})))},Na=function(){Da=!0,Ea()},Fa=function(){Da=!1,Ca(),kt()},Ta=function(){Da&&Ea()},La=function(){Da&&(Ca(),kt())},Va=void 0,Ma=!!/\d\.\d\.\d/.test(Ne)&&0<=se(Ne,"11.3.0");function Ra(n,t){$t.isStr(n)&&(t=$t.isFunc(t)&&t||function(){},"on"+n in Ot||"KNB:"+n in Ot?$t.on(window,n,function(n){t(n)}):(Va=window.KNB)&&$t.isFunc(Va.subscribe)&&Va.subscribe({action:n,handle:function(){t()},success:function(){},fail:function(n){}}))}var Ba={hook:function(){try{Ra("appear",Na),Ra("disappear",Fa),Ma&&(Ra("foreground",Ta),Ra("background",La))}catch(n){ii("sdk","api-error","",n.stack,!0)}ja=Ja}},Pa=[],Ua=sn,Ja=void 0,Qa=void 0;function Ka(n,t){return{cb:n,cmd:t}}function $a(){var t,r;ht(!1),(t=Qa,r={none:!0},new sr(function(e){try{var n=se(hi,"4.12.0");!hi||!Kt(n)||n<0?e(r):t&&we||Ce()?Wr(t,"getReqId",{},function(n,t){e(n?r:t)}):e(r)}catch(n){e(r),ii("sdk","api-error","",n.stack,!0)}})).then(function(n){var t=n||{},e=t.val_ref,r=t.req_id,i=t.refer_req_id,a=!!(r||e||i);r&&Ja._setRequestID(r),e&&Ja._setNativeEvsData("val_ref",e),i&&Ja._setNativeEvsData("refer_req_id",i),ht(a)})}function Wa(n,t){if(dn===Ua)n&&n(Ja);else if(fn===Ua)n&&Pa.push(Ka(n,t));else{$t.now();Pa=Pa.concat(Ka(n,t));var e=It.getElementsByTagName("meta"),a=ee(e,"lx:cid")||rt.cid;if(!(Qa=ee(e,"lx:category")))return void(Ua=sn);Ua=fn;var o=ee(e,"lx:mvDelay");o=isNaN(o)?0:parseInt(o,10);var u="off"!==ee(e,"lx:autopv");rt.autoPV=u,T($a,1e3),sr.all([Ti(Qa)]).then(function(n){var t,r=n[0],e=r.appnm;!$t.isStr(e)||It.domain,Ja=new Aa(r,{cid:a,isDefault:!0,mvDelay:o}),Qa&&Ja.create(Qa,{isDefault:!0}),r=$t.extend(!0,Ja._dt.env,r),Ja._dt.env=r,$t.now();try{var i=[];Ht.each(Pa,function(n){var t=n.cb,e=n.cmd;"config"===e||"set"===e?t(Ja,r):i.push(n)}),xe&&(t=r.msid,Ki||(Ki=new Qi(t))),u&&Qa&&a&&a&&Ja._initPV(r,a),Ba.hook(function(){}),Ht.each(i,function(n){n&&n.cb&&n.cb(Ja,r)})}catch(n){}}).then(function(){Ua=dn},function(n){throw Ua=dn,n})}}var Xa=[["click",en],["tap",en],["view","moduleView"],["return","moduleEdit"],["order",rn],["pay","pay"]],za=Ht.reduce(Xa,function(n,t){return n[t[0]]=t[1],n},{}),Ha=[["mpt",nn],["report","pageDisappear"]],Za=Ht.reduce(Ha,function(n,t){return n[t[0]]=t[1],n},{}),Ga=Ht.reduce(["config","event","send","use"],function(n,t){return n[t]=!0,n},{}),Ya=function(n,t){var e=It.getElementsByTagName("head")[0],r=It.createElement("meta");r.setAttribute("name",n),r.setAttribute("content",t),e.appendChild(r)},no=function(e,n){return e=e||{},Gt(n,function(n,t){1==={act:1,cid:1,val:1,lab:1,bid:1}[t]?e["val_"+t]=n:e[t]=n}),e},to=function(n,t,e){(n&&!Xt(n)&&(n={custom:{_lab:n}}),!n&&e&&(n={}),e)&&((n.custom=n.custom||{})[t]=e);return n},eo=function(n,t,e){return n&&!Xt(n)&&(n={custom:{_lab:n}}),n&&(n[t]=e),n},ro=function(n,t){var e=n[Nn],r=n[Tn];if(e&&e===r&&(r=Wt(!0,{},r)),t&&(r||e)){var i=e;e=r||{},i&&(e=to(e||{},"_lab",i))}else if(!t&&(r||e)){if(zt(r)&&(r={analyse_val:r}),zt(e))e={val_lab:e};r&&(e=eo(e||{},"page",r))}return Ct!==n[H]&&(e=to(e||{},"_act",n[H])),Ct!==n[z]&&(e=to(e||{},"_et",n[z])),Ct!==n[G]&&(e=eo(e||{},G,n[G])),Ct!==n[Y]&&(e=to(e||{},"_el_id",n[Y])),e};function io(n){var t,e,r,i=(e=(t=n).split("."),r=void 0,2===e.length&&(t=e[1],r=e[0]),[t,r]),a=void 0;return i[1]&&(a=i[1]),[n=i[0],a]}var ao=function t(e,n){var r=io(e);e=r[0];var i=r[1],a=n[0],o=n[1];if(Ht.isArray(a))return Yt(a,function(n){return t(i?i+"."+e:e,[n,o])});var u,c,s=(a.nm||"mge").toLowerCase();a.nm=s,(c=(u=a).val)&&(no(u,c),delete u.val),a=u;var f="mge"===s;if("mpt"===s)return function(n){n=no(n,n.val);var t=ro(n,!0);return[nn,t,null,n[Z]]}.apply(null,n);var d,l,v=rn===s,p="pay"===s,h=a[z],g=a[H],m=ro(a,!1);v||p||h||!f||!g?p||v?e=s:(l=h,e="mge"===(d=s)?l?za[l]||tn:en:"mpt"===d||"report"===d?Za[d]:tn,f||(m=to(m||{},"_nm",s))):e=en;var _=a[Z];return _&&((o=o||{}).cid=_),i&&to(m,"_logchannel",i),to(m=m||{},"_api","v3"),e===rn||"pay"===e?[e,a[Fn],m.order_id,m,o]:[e,a[Fn],m,o]},oo=function n(){if(!n.f){Ya("lx:autopv","off"),n.f=!0}},uo=function(n){if(!n||!n.length)return n;try{var t=n[0];0<(o=(a=t).indexOf("."))&&(a=a.substr(o+1)),Ga[a]&&(n=Ht.slice(n,1),co(t)?(ve(3),oo(),n=ao(t,n)):so(t)?(ve(3),oo(),n=function(n,t){var e=io(n)[1];n=nn;var r=t[1],i=t[2],a=e?{custom:{_logchannel:e}}:Ct,o={};if(zt(r))Xt(i)?a=i:zt(i)&&(a=to({},"analyse_val",i));else if(Xt(r)){i=(o=no(o,r))[Tn],zt(i)&&(i=to({},"analyse_val",i)),a=i;var u=o[Nn];u&&to(a,"_lab",u),r=o[Z]}var c=void 0;return r&&((c={}).cid=r),[n,a=to(a,"_api","v3"),Ct,c]}(t,n)):fo(t)?(ve(3),oo(),n=function(n,t){var e=t[0],r=t[1];if(e&&(e=e.replace(/^data_sdk_/i,""),Ya("lx:category",e)),Xt(r))return["set",r]}(0,n)):lo(t,n[0],n[1])?(oo(),e=t,r=n[0],i=n[1],n="appnm"===r&&zt(i)?void Ya("lx:appnm",i):("cid"===r&&zt(i)&&Ya("lx:cid",i),[e,r,i])):n.unshift(t))}catch(n){}var e,r,i,a,o;return n},co=function(n){var t=n.indexOf(".");return 0<t&&(n=n.substr(t+1)),"event"===n},so=function(n){var t=n.indexOf(".");return 0<t&&(n=n.substr(t+1)),"send"===n},fo=function(n){return"use"===n},lo=function(n,t){var e=!1;return"cid"!==t&&"appnm"!==t||(ve(3),e=!0),"config"===n&&e},vo=void 0,po=void 0;function ho(n,t,e,r,i){if($t.isFunc(t))t.call(n,n,r,i);else if(!i&&$t.isStr(t)&&$t.isFunc(n[t]))return n[t].apply(n,e)}function go(){if(!po){po=!0;var r=void 0;Oe&&$t.on(It,"mouseup",function(n){var t=n.target||n.srcElement,e=t.tagName+t.href;e=e.toLocaleLowerCase(),1===t.nodeType&&/^ajavascript:/i.test(e)&&(r=new Date)});var n=Ot.onbeforeunload;xe&&ke?Ot.addEventListener("pagehide",fe(!1,Oe,r,void 0,bo,Ct,st)):Ot.onbeforeunload=fe(!1,Oe,r,void 0,bo,n,st)}}var mo=1,_o=100,yo=0;function bo(r){var n=arguments;if(n.length){var i=Ht.slice(n,1,n.length);try{vo?ho(vo,r,i,vo._dt?vo._dt.env:null):Wa(function(n,t,e){ho(vo=n,r,i,t,e),go()},r)}catch(n){try{ii("sdk","api-error","",n.message+"\n"+n.stack,!0)}catch(n){}}}}var wo=!1,xo=(Jt(),0);function So(n){xo&&v(xo),wo||(wo=!0,Jt(),n&&n.type,function n(){if(Ee&&!Ot.KNB&&mo)return yo&&v(yo),void(yo=T(function(){mo--,n()},_o));var s=!0,f=!1,d=function(){var n=re();n&&(n.q.push=function t(n){try{var e,r=(e=uo(n))?e[0]:"";if(Ht.isArray(r))return void Gt(e,function(n){t(n)});"start"===r?(s=!0,f||l(d)):!1===s?e&&d.push(e):bo.apply(Ct,e)}catch(n){try{ii("sdk","api-error","",n.stack,!0)}catch(n){}}});for(var t=void 0,e=void 0,r=[],i=[],a=[],o=n&&Ht.isArray(n.q)?n.q:[],u=0,c=o.length;u<c;u++)"config"===(e=o[u][0])?i.push(o[u]):t||"use"!==e?a.push(o[u]):(r.push(o[u]),t=!0);return o=i.concat(r.concat(a))}();function l(n){f||(n&&Ht.each(n,function(n){var t,e=(t=uo(n))?t[0]:"";Ht.isArray(e)?Gt(t,function(n){bo.apply(Ct,n)}):e?bo.apply(Ct,t):n&&n&&n[0]}),bo(function(){go()}),f=!0)}if(0===d.length)Wa(function(n){vo=n,go()});else try{d=Yt(d,function(n){var t;if("config"===((t=uo(n))?t[0]:"")){var e=t[1],r=t[2];"autoStart"===e&&!1===r&&(s=!1)}return t}),s&&l(d)}catch(n){}}())}xo=T(function(){So()},3e3),"complete"!==It.readyState?($t.on(It,"DOMContentLoaded",So),$t.on(Ot,"load",So)):So()}();
